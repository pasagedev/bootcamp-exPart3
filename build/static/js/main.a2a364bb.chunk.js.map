{"version":3,"sources":["components/phonebook.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFilterChange","newNameFilter","onChange","value","PersonForm","handleSubmit","handleNameInput","nameInputValue","handleNumberInput","numberInputValue","onSubmit","type","MessageAlert","message","className","Person","name","number","handleDeletePerson","onClick","Persons","numbersToShow","map","id","baseUrl","axios","get","then","response","data","personToAdd","post","personToDelete","delete","deletedPerson","idPerson","newPerson","put","updatedPerson","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","setNewFilter","defaultMessage","messageAlert","setMessageAlert","useEffect","personsService","filter","person","toLowerCase","indexOf","event","target","preventDefault","alert","find","window","confirm","oldPerson","catch","error","setTimeout","addedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2a364bb.chunk.js","sourcesContent":["import react from 'react'\r\n\r\nexport const Filter = ({ handleFilterChange, newNameFilter }) => (\r\n    <div>filter show with: <input\r\n        onChange={handleFilterChange}\r\n        value={newNameFilter} />\r\n    </div>\r\n)\r\n\r\nexport const PersonForm = ({ handleSubmit, handleNameInput, nameInputValue, handleNumberInput, numberInputValue }) => (\r\n    <form onSubmit={handleSubmit}>\r\n        <h3>add a new</h3>\r\n        <div>\r\n            name: <input\r\n                onChange={handleNameInput}\r\n                value={nameInputValue} />\r\n        </div>\r\n        <div>\r\n            number: <input\r\n                onChange={handleNumberInput}\r\n                value={numberInputValue} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\nexport const MessageAlert = ({ message, type }) => (\r\n    message === null ? <div>mensage: {message}</div>\r\n        :\r\n        <div className={type}>\r\n            {message}\r\n        </div>\r\n)\r\n\r\nconst Person = ({ name, number, handleDeletePerson }) => (\r\n    <div>{name} {number} <button onClick={handleDeletePerson}>delete</button></div>\r\n)\r\n\r\nexport const Persons = ({ numbersToShow, handleDeletePerson }) => {\r\n    return (\r\n        <div> {numbersToShow.map(({ name, number, id }) => (\r\n            <Person key={id} name={name} number={number} handleDeletePerson={() => handleDeletePerson(name, id)} />))}\r\n        </div>)\r\n}","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAllPersons = () => (\r\n    axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n)\r\n\r\nconst addPerson = personToAdd =>\r\n    axios\r\n        .post(baseUrl, personToAdd)\r\n        .then(response => response.data)\r\n\r\nconst deletePerson = personToDelete =>\r\n    axios\r\n        .delete(`${baseUrl}/${personToDelete}`)\r\n        .then(deletedPerson => deletedPerson)\r\n\r\nconst updatePerson = (idPerson, newPerson) =>\r\n    axios\r\n        .put(`${baseUrl}/${idPerson}`, newPerson)\r\n        .then(updatedPerson => updatedPerson.data)\r\n\r\nexport default {\r\n    getAllPersons,\r\n    addPerson,\r\n    deletePerson,\r\n    updatePerson\r\n}","import React, { useState, useEffect } from 'react'\nimport { Persons, Filter, PersonForm, MessageAlert } from './components/phonebook'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [newNameFilter, setNewFilter] = useState('')\n  const defaultMessage = { message: null, type: '' }\n  const [messageAlert, setMessageAlert] = useState(defaultMessage)\n\n  useEffect(() => {\n    personsService\n      .getAllPersons()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  const handleNameInput = (event) => setNewName(event.target.value)\n  const handleNumberInput = (event) => setNewPhone(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  const isPersonOnBook = (name) => {\n    return persons.find((person) => person.name === name)\n      ? true\n      : false\n  }\n\n  const handleSubmitPersonForm = (event) => {\n    event.preventDefault()\n    if (newName === '')\n      return alert('You must to enter a name')\n    const newPerson = { name: newName, number: newPhone }\n    if (isPersonOnBook(newName)) {\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one ?`)\n      if (result) {\n        const oldPerson = persons.find(person => person.name === newPerson.name)\n        personsService.updatePerson(oldPerson.id, newPerson)\n          .then(updatedPerson =>\n            setPersons(persons.map(person => person.id !== oldPerson.id ? person : updatedPerson))\n          )\n          .catch(error => {\n            setMessageAlert(\n              {\n                message: error.response.data.error,\n                type: 'error'\n              })\n            setTimeout(() => setMessageAlert(defaultMessage), 4000)\n          })\n      }\n    }\n    else {\n      personsService.addPerson(newPerson)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setMessageAlert(\n            {\n              message: `Added ${addedPerson.name}`,\n              type: 'success'\n            })\n          setTimeout(() => setMessageAlert(defaultMessage), 2000)\n          setNewName('')\n          setNewPhone('')\n        }\n        )\n        .catch(error => {\n          setMessageAlert(\n            {\n              message: error.response.data.error,\n              type: 'error'\n            })\n          setTimeout(() => setMessageAlert(defaultMessage), 4000)\n        })\n    }\n  }\n\n  const handleDeletePerson = (name, id) => {\n    if (window.confirm(`Delete ${name} ?`))\n      personsService.deletePerson(id)\n        .then(setPersons(persons.filter(person => person.id !== id)))\n        .catch(() => {\n          setMessageAlert(\n            {\n              message: `Information of ${name} has already removed from server`,\n              type: 'error'\n            })\n          setTimeout(() => setMessageAlert(defaultMessage), 2500)\n        })\n  }\n\n  const numbersToShow = persons.filter((person) => person.name.toLowerCase().indexOf(newNameFilter.toLowerCase()) !== -1)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter handleFilterChange={handleFilterChange} value={newNameFilter} />\n      <MessageAlert message={messageAlert.message} type={messageAlert.type} />\n      <PersonForm\n        handleSubmit={handleSubmitPersonForm}\n        handleNameInput={handleNameInput}\n        handleNumberInput={handleNumberInput}\n        nameInputValue={newName}\n        numberInputValue={newPhone} />\n      <h3>Numbers</h3>\n      <Persons numbersToShow={numbersToShow} handleDeletePerson={handleDeletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}